---
// Components
// - Layout
import Layout from '../layouts/Layout.astro'
// - UI
import Hero from '../components/blocks/hero/PageHeader.astro'
import CTA from '../components/blocks/CTA/BasicDark.astro'
import Section from '../components/ui/Section.astro'
import Row from '../components/ui/Row.astro'
import Col from '../components/ui/Col.astro'
import Button from '../components/ui/Button.astro'
import { Icon } from 'astro-icon/components'
import { Image } from 'astro:assets'

// å¯¼å…¥å›¾ç‰‡èµ„æº
import contactImage from '../assets/contact/happy.webp'
import mapImage from '../assets/contact/map.webp'

// Content
// - SEO
const SEO = {
	title: 'è”ç³»æˆ‘ä»¬ | äºˆæœäºˆå®ï¼ˆEDUGROWï¼‰',
	description:
		'å¦‚éœ€ç•™å­¦å’¨è¯¢ã€æœåŠ¡é¢„çº¦æˆ–æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿é€šè¿‡å¾®ä¿¡ã€ç”µè¯æˆ–é‚®ä»¶è”ç³»äºˆæœäºˆå®ï¼ˆEDUGROWï¼‰å›¢é˜Ÿï¼Œæˆ‘ä»¬çš„èµ„æ·±é¡¾é—®å°†åŠæ—¶ä¸ºæ‚¨æä¾›ä¸“ä¸šè§£ç­”ä¸ä¸ªæ€§åŒ–æ–¹æ¡ˆã€‚',
}
// - Page Header
const header = {
	title: 'è”ç³»æˆ‘ä»¬',
	text: 'æ— è®ºæ‚¨æœ‰ä»»ä½•ç•™å­¦ç›¸å…³é—®é¢˜ï¼Œäºˆæœäºˆå®éƒ½éšæ—¶ä¸ºæ‚¨æä¾›ä¸“ä¸šæ”¯æŒå’Œå¸®åŠ©ã€‚'
}
---

<Layout title={SEO.title} description={SEO.description}>
	<Hero title={header.title} text={header.text} />

	<!-- ç¤¾äº¤åª’ä½“å’Œè”ç³»æ–¹å¼éƒ¨åˆ† -->
	<Section id="contact-info" classes="py-16">
		<Row>
			<Col span="6" classes="relative">
				<Image
					src={contactImage}
					alt="è”ç³»æˆ‘ä»¬"
					width={600}
					class="mx-auto rounded-2xl lg:mx-0"
					quality={80}
				/>
			</Col>
			<Col span="6" classes="self-center lg:ml-6">
				<div class="max-w-full">
					<h2 class="mb-4 text-2xl lg:text-3xl">
						<strong>è”ç³»æˆ‘ä»¬</strong> è·å–ä¸“ä¸šå’¨è¯¢
					</h2>
					<p class="mb-8 text-lg leading-relaxed">
						æ— è®ºæ‚¨æœ‰ä»»ä½•ç•™å­¦ç›¸å…³é—®é¢˜ï¼Œæˆ‘ä»¬éšæ—¶æ¬¢è¿æ‚¨é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸æˆ‘ä»¬å–å¾—è”ç³»ã€‚
					</p>
					<div class="space-y-8">
						<!-- è”ç³»æ–¹å¼åˆ—è¡¨ -->
						<div class="grid grid-cols-1 md:grid-cols-3 gap-x-4 gap-y-10">
							<div class="">
								<div class="mb-4 flex items-center">
									<Icon
										name="simple-icons:wechat"
										class="mr-3 text-2xl text-primary-500"
									/>
									<h3 class="text-lg font-bold">å¾®ä¿¡å’¨è¯¢</h3>
								</div>
								<div class="flex flex-col items-center">
									<Icon name="contact-qrcode" class="h-28 w-28" />
									<div class="text-center mt-4">
										<div class="text-xs">æ‰«ç æ·»åŠ ç•™å­¦å°åŠ©æ‰‹</div>
                                        <div class="text-xs">è·å–ä¸€å¯¹ä¸€ä¸“ä¸šå’¨è¯¢</div>
									</div>
								</div>
							</div>
							<div class="">
								<div class="mb-4 flex items-center">
									<Icon
										name="simple-icons:wechat"
										class="mr-3 text-2xl text-primary-500"
									/>
									<h3 class="text-lg font-bold">å…³æ³¨å…¬ä¼—å·</h3>
								</div>
								<div class="flex flex-col items-center">
									<Icon name="mp-qrcode" class="h-28 w-28" />
									<div class="text-center mt-4">
										<div class="text-xs">æ‰«ç å…³æ³¨äºˆæœäºˆå®</div>
                                        <div class="text-xs">è·å–æ›´å¤šç•™å­¦æ”»ç•¥</div>
									</div>
								</div>
							</div>
                            <!-- <div class="">
								<div class="mb-4 flex items-center">
									<Icon
										name="fluent:call-24-filled"
										class="mr-3 text-3xl text-primary-500"
									/>
									<h3 class="text-lg font-bold">æ¥ç”µå’¨è¯¢</h3>
								</div>
								<a href="tel:17792943576" class="text-base font-medium text-primary-500">177-9294-3576</a>
							</div> -->
							<div class="">
								<div class="mb-4 flex items-center">
									<Icon
										name="simple-icons:maildotru"
										class="mr-3 text-2xl text-primary-500"
									/>
									<h3 class="text-lg font-bold">é‚®ä»¶è”ç³»</h3>
								</div>
								<a href="mailto:hi@edugrow.cn" class="text-base font-medium text-primary-500">hi@edugrow.cn</a>
							</div>
						</div>
						<!-- ç¤¾äº¤åª’ä½“éƒ¨åˆ† -->
						<!-- <div class="pt-8">
							<h3 class="mb-6 text-xl font-bold">å…³æ³¨æˆ‘ä»¬çš„ç¤¾äº¤åª’ä½“</h3>
							<div class="grid grid-cols-2 gap-8">
								<div class="flex flex-col items-center text-center">
									<Icon name="contact-qrcode" class="mb-4 h-28 w-28" />
									<h4 class="mb-2 text-base font-bold">å¾®ä¿¡å…¬ä¼—å·</h4>
								</div>

								<div class="flex flex-col items-center text-center">
									<Icon name="contact-qrcode" class="mb-4 h-28 w-28" />
									<h4 class="mb-2 text-base font-bold">å°çº¢ä¹¦</h4>
								</div>
							</div>
						</div> -->
					</div>
				</div>
			</Col>
		</Row>
	</Section>

	<!-- åŠå…¬åœ°å€éƒ¨åˆ† -->
	<Section id='address' padding="both" classes="bg-primary-200 dark:bg-neutral-800">
		<Row>
			<Col span="12" align="center" classes="mb-12 max-w-4xl mx-auto">
                <h2 class="text-pretty">æˆ‘ä»¬éšæ—¶æ¬¢è¿æ‚¨<strong>äº²ä¸´äºˆæœäºˆå®</strong></h2>
                <p class="pb-0 text-lg">
                    ä¸æˆ‘ä»¬è§é¢ï¼Œäº†è§£æ›´å¤šå…³äºäºˆæœäºˆå®çš„ä¿¡æ¯ã€‚
                </p>
            </Col>
		</Row>
		<Row>
			<Col span="8" classes="mb-8 md:mb-0">
				<!-- åœ°å›¾å®¹å™¨ -->
				<div
					id="map-container"
					class="group relative h-80 w-full overflow-hidden rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl md:h-96"
				>
					<!-- ä½¿ç”¨çœŸå®åœ°å›¾å›¾ç‰‡ -->
					<Image
						src={mapImage}
						alt="äºˆæœäºˆå®ç•™å­¦åŠå…¬åœ°å€åœ°å›¾"
						width={1000}
						class="h-full w-full object-cover hover:transform hover:scale-105 transition-transform duration-300"
						quality={80}
					/>
					<!-- åœ°å›¾äº¤äº’å…ƒç´ å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
				</div>
			</Col>
			<Col span="4" classes="flex items-center">
				<div class="flex flex-col gap-5">
					<div class="flex flex-col items-start gap-4">
						<div
							class="flex-shrink-0 rounded-xl bg-white/50 p-5 dark:bg-neutral-900"
						>
							<Icon name="logo_main" class="text-5xl md:text-6xl" />
						</div>
						<div>
							<p class="mb-2 text-lg font-semibold">
								é™•è¥¿çœè¥¿å®‰å¸‚é«˜æ–°åŒºç§‘æŠ€è·¯50å·<br>é‡‘æ¡¥å›½é™…å¹¿åœºCåº§906
							</p>
							<p class="text-sm">
								åœ°é“3å·çº¿å»¶å¹³é—¨C2å£å‡ºï¼Œæ­¥è¡Œ10åˆ†é’Ÿå¯è¾¾
							</p>
						</div>
					</div>
					<div class="mt-2 flex flex-wrap gap-4">
						<span
							class="inline-flex items-center rounded-full bg-primary-300 px-4 py-1.5 text-sm font-medium text-primary-700 dark:bg-primary-900 dark:text-primary-300"
						>
							<Icon name="fluent:clock-16-filled" class="mr-1.5 h-4 w-4" />å·¥ä½œæ—¥
							9:00-18:00
						</span>
						<span
							class="inline-flex items-center rounded-full bg-primary-300 px-4 py-1.5 text-sm font-medium text-primary-700 dark:bg-primary-900 dark:text-primary-300"
						>
							<Icon
								name="fluent:calendar-16-filled"
								class="mr-1.5 h-4 w-4"
							/>å»ºè®®æå‰é¢„çº¦
						</span>
					</div>
					<div class="border-t border-neutral-200 pt-5 dark:border-neutral-600">
                        <Button id='navigate-btn'> <Icon name="long-arrow-right" class="mr-2 h-5 w-5" />è·å–å¯¼èˆªè·¯çº¿</Button>
					</div>
				</div>
			</Col>
		</Row>
	</Section>

	<!-- åœ°å›¾äº¤äº’è„šæœ¬ -->
	<script>
		// åˆå§‹åŒ–åœ°å›¾å‡½æ•°
		function initializeMap() {
			// è¥¿å®‰é‡‘æ¡¥å›½é™…å¹¿åœºCåº§çš„åæ ‡
			const officeLocation = [108.8925, 34.2358] // ç»åº¦,çº¬åº¦

			// è·å–åœ°å›¾å®¹å™¨
			const mapContainer = document.getElementById('map-container')

			// ç¡®ä¿åœ°å›¾å®¹å™¨å­˜åœ¨
			if (!mapContainer) return

			// æ¸…ç©ºç°æœ‰å†…å®¹ï¼Œé¿å…é‡å¤æ·»åŠ 
			const existingMarker = mapContainer.querySelector('.map-marker')
			if (existingMarker) return // å¦‚æœå·²ç»åˆå§‹åŒ–è¿‡ï¼Œåˆ™ä¸å†é‡å¤åˆå§‹åŒ–

			// æ·»åŠ åœ°å›¾æ ‡è®°å’Œä¿¡æ¯çª—ä½“
			const markerHTML = `
				<div class="map-marker absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 group-hover:scale-110 transition-transform duration-300">
					<div class="relative">
						<!-- æ ‡è®°ç‚¹åŠ¨ç”» -->
						<div class="w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center z-10 shadow-lg">
							<div class="w-4 h-4 bg-white rounded-full"></div>
						</div>
						<!-- æ‰©æ•£åŠ¨ç”» -->
						<div class="absolute top-0 left-0 w-8 h-8 bg-primary-500 rounded-full animate-ping opacity-75"></div>
						<!-- ä¿¡æ¯çª—ä½“ -->
						<div class="absolute bottom-full left-1/2 transform -translate-x-1/2 -translate-y-2 bg-primary-300 dark:bg-neutral-800 border border-neutral-100 dark:border-neutral-800 p-6 rounded-lg shadow-xl min-w-[280px] mb-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
							<div class="font-bold text-white dark:text-primary-400 text-base">ğŸ“ EDUGROW äºˆæœäºˆå®</div>
							<div class="text-xs text-neutral-600 dark:text-neutral-300">é™•è¥¿çœè¥¿å®‰å¸‚é«˜æ–°åŒºç§‘æŠ€è·¯50å·<br>é‡‘æ¡¥å›½é™…å¹¿åœºCåº§906</div>
							<!-- ä¸‰è§’å½¢æŒ‡ç¤ºå™¨ -->
							<div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-primary-300 dark:border-t-neutral-800"></div>
						</div>
					</div>
				</div>
			`

			// æ·»åŠ åœ°å›¾æ°´å°
			const watermarkHTML = `
				<div class="absolute bottom-3 left-3 bg-white/80 dark:bg-neutral-800/80 px-2 py-1 rounded text-xs text-neutral-500 dark:text-primary-200 font-mono z-10">
					Â© äºˆæœäºˆå®ç•™å­¦åœ°å›¾
				</div>
			`

			// æ·»åŠ åœ°å›¾äº¤äº’å…ƒç´ 
			mapContainer.insertAdjacentHTML('beforeend', markerHTML + watermarkHTML)

			// æ·»åŠ å¯¼èˆªæŒ‰é’®äº‹ä»¶
			const navigateBtn = document.getElementById('navigate-btn')
			if (!navigateBtn) return

			// ç§»é™¤ç°æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œé¿å…é‡å¤æ·»åŠ 
			navigateBtn.replaceWith(navigateBtn.cloneNode(true))

			// é‡æ–°è·å–æŒ‰é’®å¹¶æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
			const newNavigateBtn = document.getElementById('navigate-btn')
			if (!newNavigateBtn) return

			newNavigateBtn.addEventListener('click', function () {
				// æ‰“å¼€é«˜å¾·åœ°å›¾å¯¼èˆª
				window.open(
					`https://uri.amap.com/navigation?to=${officeLocation[0]},${officeLocation[1]},äºˆæœäºˆå®ç•™å­¦å’¨è¯¢æœåŠ¡æœ‰é™å…¬å¸&mode=car&policy=1&src=mypage&coordinate=gaode&callnative=0`
				)
			})
		}

		// é¡µé¢åŠ è½½å®Œæˆæ—¶åˆå§‹åŒ–åœ°å›¾
		document.addEventListener('DOMContentLoaded', initializeMap)

		// Astroé¡µé¢è½¬æ¢åé‡æ–°åˆå§‹åŒ–åœ°å›¾
		document.addEventListener('astro:page-load', initializeMap)

		// å…¼å®¹View Transitions API
		document.addEventListener('astro:after-swap', initializeMap)
	</script>

	<CTA />
</Layout>
